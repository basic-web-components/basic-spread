<!--
Makes all its children as wide/tall as the widest/tallest children.
-->

<link rel="import" href="../basic-element/basic-element.html">
<link rel="import" href="../basic-stack/basic-stack.html">

<polymer-element name="basic-spread" extends="basic-element">
<template>
  <style>
  :host {
    display: block;
    overflow-x: auto;
    position: relative;
  }

  ::content > :nth-child(2) { left: 100%; }
  ::content > :nth-child(3) { left: 200%; }
  </style>
  <div id="spreadContainer">
    <basic-stack id="spreadStack" on-basic-stack-resize="{{_stackResize}}">
      <content></content>
    </basic-stack>
  </div>
</template>
<script>
Polymer({

  recalc: function() {
    this.$.spreadStack.recalc();
  },

  _stackResize: function( event ) {
    var width = event.detail.count * event.detail.width;
    this.$.spreadContainer.style.width = width + "px";
    this.style.width = event.detail.width + "px";
  }
  
});
</script>
</polymer-element>
